(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const w={main:document.querySelector("main"),loader:document.querySelector(".loader"),errWindow:document.querySelector(".modal-error"),errOut:document.querySelector(".error__para"),errBtn:document.querySelector(".error__btn"),quoteSection:document.querySelector(".section-quote"),blockQuote:document.querySelector(".quote__blockquote"),quoteOut:document.querySelector(".quote__para"),authorOut:document.querySelector(".quote__author"),refreshBtn:document.querySelector(".quote__refresh-btn"),refreshIcon:document.querySelector(".refresh-btn__icon"),timeSection:document.querySelector(".section-time"),sunIcon:document.querySelector(".time__sun-icon"),moonIcon:document.querySelector(".time__moon-icon"),greetingOut:document.querySelector(".time__para"),clockOut:document.querySelector(".time__current-time-title"),timezoneAbrOut:document.querySelector(".time__current-time-para"),locationOut:document.querySelector(".time__place-para"),moreBtn:document.querySelector(".time__more-btn"),moreBtnIcon:document.querySelector(".more-btn__down-icon"),infoSection:document.querySelector(".section-info"),timezoneOut:document.querySelector("#timezone"),dayOfYearOut:document.querySelector("#day-of-year"),dayOfWeekOut:document.querySelector("#day-of-week"),weekNumOut:document.querySelector("#week-number")},c=e=>new Promise(t=>setTimeout(t,e)),{main:a,loader:I,errWindow:q,errOut:v,errBtn:x,quoteSection:f,blockQuote:p,quoteOut:m,authorOut:_,refreshBtn:C,refreshIcon:u,timeSection:k,sunIcon:O,moonIcon:P,greetingOut:y,clockOut:A,timezoneAbrOut:E,locationOut:B,moreBtn:d,moreBtnIcon:S,infoSection:l,timezoneOut:T,dayOfYearOut:N,dayOfWeekOut:W,weekNumOut:j}=w;C.addEventListener("click",L);async function L(){const e=setInterval($(),750);p.style.opacity="0";const t=await Q();t.quote?(m.style.color="",m.textContent=t.quote,_.textContent=t.author):(m.textContent=`Quote request failed with error: ${t}`,m.style.color="#ff0000b7",_.textContent=""),p.style.opacity="",clearInterval(e)}async function Q(){return await fetch("https://dummyjson.com/quotes/random").then(e=>{if(!e.ok)throw new Error(e.status);return e.json()}).then(e=>(console.log("Quote API: ",e),e)).catch(e=>(console.log(e),e))}async function $(){u.style.transform="rotate(0.5turn)",await c(300),u.style.transform="rotate(360deg)",await c(300),u.style.transition="none",await c(50),u.style.transform="rotate(0deg)",await c(50),u.style.transition=""}a.classList.add("disabled");a.style.opacity="0";g();x.addEventListener("click",g);d.addEventListener("click",h);async function g(){q.classList.add("disabled");const e=await z(),t=await F(e.ip);t.countryCode=e.country,t?D(t):q.classList.remove("disabled")}async function z(){return await fetch("https://api.country.is").then(e=>e.json()).then(e=>(console.log("IP API:",e),e)).catch(e=>console.log("IP API: ",e))}async function F(e){return await fetch(`https://worldtimeapi.org/api/ip/${e}`).then(t=>t.json()).then(t=>(console.log("World Time API:",t),t)).catch(t=>{console.log("World Time API: ",t),v.textContent=`Fail to get your data (${t}). Please try again!`})}async function D({datetime:e,timezone:t,abbreviation:i,countryCode:r,day_of_year:o,day_of_week:n,week_number:s}){L(),R(e,t,i,r),Y(t,o,n,s),a.classList.remove("disabled"),await c(50),k.style.opacity="1",a.style.opacity="",I.classList.add("disabled")}function R(e,t,i,r){const o=e.slice(e.indexOf("T")+1,e.indexOf("T")+6),n=Number(o.slice(0,2));n>=5&&n<12?(y.textContent="good morning",a.classList.add("main_day"),l.classList.add("section-info_day"),O.classList.remove("disabled")):n>=12&&n<18?(y.textContent="good afternoon",a.classList.add("main_day"),l.classList.add("section-info_day"),O.classList.remove("disabled")):(a.classList.add("main_night"),l.classList.add("section-info_night"),y.textContent="good evening",P.classList.remove("disabled")),A.textContent=o,E.textContent=i;const s=t.split("/")[1];B.textContent=`in ${s.split("_").join(" ")}, ${r}`}function Y(e,t,i,r){T.textContent=e,N.textContent=t,W.textContent=i,j.textContent=r}async function h(){l.classList.add("section-info_open"),f.classList.add("section-quote_hidden"),S.style.transform="rotate(0.5turn)",await c(700),f.classList.add("disabled"),d.removeEventListener("click",h),d.addEventListener("click",b)}async function b(){l.classList.remove("section-info_open"),S.style.transform="",await c(680),f.classList.remove("disabled"),await c(20),f.classList.remove("section-quote_hidden"),d.removeEventListener("click",b),d.addEventListener("click",h)}
//# sourceMappingURL=commonHelpers.js.map
