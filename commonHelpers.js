import{a as g}from"./assets/vendor-X9MCInOH.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const u of n.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function a(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=a(o);fetch(o.href,n)}})();g.defaults.headers.common["X-Api-Key"]="";const i=e=>new Promise(t=>setTimeout(t,e)),m=document.querySelector(".quote__blockquote"),l=document.querySelector(".quote__para"),y=document.querySelector(".quote__author"),b=document.querySelector(".quote__refresh-btn"),s=document.querySelector(".refresh-btn__icon");q();b.addEventListener("click",q);async function q(){f();const e=setInterval(f,750);m.style.opacity="0";const t=await S();t.quote?(l.style.color="",l.textContent=t.quote,y.textContent=t.author):(l.textContent=`Quote request failed with error: ${t}`,l.style.color="#ff0000b7",y.textContent=""),m.style.opacity="",clearInterval(e)}function S(){return fetch("https://dummyjson.com/quotes/random").then(e=>{if(!e.ok)throw new Error(e.status);return e.json()}).then(e=>(console.log("Quote API: ",e),e)).catch(e=>(console.log(e),e))}async function f(){s.style.transform="rotate(0.5turn)",await i(300),s.style.transform="rotate(360deg)",await i(300),s.style.transition="none",await i(50),s.style.transform="rotate(0deg)",await i(50),s.style.transition=""}const p=document.querySelector(".modal-error"),L=document.querySelector(".error__para"),w=document.querySelector(".error__btn"),c=document.querySelector("main"),I=document.querySelector(".loader"),O=document.querySelector(".section-time"),h=document.querySelector(".time__sun-icon"),v=document.querySelector(".time__moon-icon"),d=document.querySelector(".time__para"),x=document.querySelector(".time__current-time-title"),P=document.querySelector(".time__current-time-para"),C=document.querySelector(".time__place-para");c.classList.add("disabled");c.style.opacity="0";_();w.addEventListener("click",_);async function _(){p.classList.add("disabled");const e=await A(),t=await T(e.ip);t?j(t,e.country):p.classList.remove("disabled")}async function A(){return await fetch("https://api.country.is").then(e=>e.json()).then(e=>(console.log("IP API:",e),e)).catch(e=>console.log("IP API: ",e))}async function T(e){return await fetch(`https://worldtimeapi.org/api/ip/${e}`).then(t=>t.json()).then(t=>(console.log("World Time API:",t),t)).catch(t=>{console.log("World Time API: ",t),L.textContent=`Fail to get your data (${t}). Please try again!`})}async function j(e,t){const a=e.datetime.slice(e.datetime.indexOf("T")+1,e.datetime.indexOf("T")+6),r=Number(a.slice(0,2));r>=5&&r<12?(d.textContent="good morning",c.classList.add("main_day"),h.classList.remove("disabled")):r>=12&&r<18?(d.textContent="good afternoon",c.classList.add("main_day"),h.classList.remove("disabled")):(c.classList.add("main_night"),d.textContent="good evening",v.classList.remove("disabled")),x.textContent=a,P.textContent=e.abbreviation;const o=e.timezone.split("/")[1];C.textContent=`in ${o.split("_").join(" ")}, ${t}`,c.classList.remove("disabled"),await i(50),O.style.opacity="1",c.style.opacity="",I.classList.add("disabled")}
//# sourceMappingURL=commonHelpers.js.map
