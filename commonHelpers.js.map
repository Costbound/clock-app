{"version":3,"file":"commonHelpers.js","sources":["../src/js/quote.js"],"sourcesContent":["import axios from \"axios\"\r\naxios.defaults.headers.common[\"X-Api-Key\"] = \"\"\r\n\r\nconst delay = (ms) => { return new Promise(resolve => setTimeout(resolve, ms)) }\r\n\r\nconst quoteOut = document.querySelector(\".quote__para\")\r\nconst authorOut = document.querySelector(\".quote__author\")\r\nconst quoteOutputs = [quoteOut, authorOut]\r\nconst refreshBtn = document.querySelector(\".quote__refresh-btn\")\r\nconst refreshIcon = document.querySelector(\".refresh-btn__icon\");\r\nrefreshQuote()\r\n\r\n\r\n\r\nrefreshBtn.addEventListener(\"click\", refreshQuote)\r\n\r\nasync function refreshQuote() {\r\n    refreshIcon.style.animationIterationCount = \"infinite\"\r\n    quoteOutputs.forEach(output => output.style.opacity = \"0\")\r\n    await delay(300)\r\n    quoteOutputs.forEach(output => output.textContent = \"\")\r\n    const quote = await quoteRequest()\r\n    if (quote.quote) {\r\n        quoteOut.style.color = \"\"\r\n        quoteOut.textContent = quote.quote\r\n        authorOut.textContent = quote.author\r\n    } else {\r\n        quoteOut.textContent = `Quote request failed with error: ${quote.response.status} ${quote.code}`\r\n        quoteOut.style.color = \"#ff0000b7\"\r\n        authorOut.textContent = \"\" \r\n    }\r\n    quoteOutputs.forEach(output => output.style.opacity = \"\")\r\n    refreshIcon.style.animationIterationCount = \"\"\r\n}\r\n\r\nfunction quoteRequest() {\r\n        return axios(\"https://api.api-ninjas.com/v1/quotes\")\r\n            .then(res => {\r\n            return res.data[0]\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n                return err\r\n            })\r\n}\r\n\r\n"],"names":["axios","delay","ms","resolve","quoteOut","authorOut","quoteOutputs","refreshBtn","refreshIcon","refreshQuote","output","quote","quoteRequest","res","err"],"mappings":"svBACAA,EAAM,SAAS,QAAQ,OAAO,WAAW,EAAI,GAE7C,MAAMC,EAASC,GAAgB,IAAI,QAAQC,GAAW,WAAWA,EAASD,CAAE,CAAC,EAEvEE,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAe,CAACF,EAAUC,CAAS,EACnCE,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAc,SAAS,cAAc,oBAAoB,EAC/DC,EAAc,EAIdF,EAAW,iBAAiB,QAASE,CAAY,EAEjD,eAAeA,GAAe,CAC1BD,EAAY,MAAM,wBAA0B,WAC5CF,EAAa,QAAQI,GAAUA,EAAO,MAAM,QAAU,GAAG,EACzD,MAAMT,EAAM,GAAG,EACfK,EAAa,QAAQI,GAAUA,EAAO,YAAc,EAAE,EACtD,MAAMC,EAAQ,MAAMC,EAAc,EAC9BD,EAAM,OACNP,EAAS,MAAM,MAAQ,GACvBA,EAAS,YAAcO,EAAM,MAC7BN,EAAU,YAAcM,EAAM,SAE9BP,EAAS,YAAc,oCAAoCO,EAAM,SAAS,MAAM,IAAIA,EAAM,IAAI,GAC9FP,EAAS,MAAM,MAAQ,YACvBC,EAAU,YAAc,IAE5BC,EAAa,QAAQI,GAAUA,EAAO,MAAM,QAAU,EAAE,EACxDF,EAAY,MAAM,wBAA0B,EAChD,CAEA,SAASI,GAAe,CAChB,OAAOZ,EAAM,sCAAsC,EAC9C,KAAKa,GACCA,EAAI,KAAK,CAAC,CAChB,EACA,MAAMC,IACH,QAAQ,IAAIA,CAAG,EACRA,EACV,CACb"}